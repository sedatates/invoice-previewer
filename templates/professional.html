<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <style type="text/tailwindcss">
    @page { size: A4; margin: 0; }
    @media print {
      body { print-color-adjust: exact; -webkit-print-color-adjust: exact; }
    }
  </style>
</head>
<body class="bg-white text-gray-900 font-sans text-[10px] leading-relaxed">

  <!-- Header -->
  <div class="bg-sky-600 text-white px-10 py-6">
    <div class="flex justify-between items-start">
      <div class="flex items-center gap-4">
        {{#hasLogo}}
        <img src="{{companyLogo}}" alt="{{companyName}}" class="h-14 max-w-32 object-contain bg-white rounded p-2" />
        {{/hasLogo}}
        <div>
          <p class="font-bold text-lg">{{companyName}}</p>
          <p class="text-sky-100 text-[9px] leading-relaxed mt-1">{{{companyLines}}}</p>
        </div>
      </div>
      <div class="text-right">
        <p class="text-[9px] uppercase tracking-widest text-sky-200 mb-1">Invoice</p>
        <p class="text-2xl font-bold">#{{invoiceNumber}}</p>
        <p class="text-sky-100 text-[9px] mt-2">Issued: {{issuedOn}}</p>
        <p class="text-sky-100 text-[9px]">Due: {{dueOn}}</p>
      </div>
    </div>
  </div>

  <!-- Content -->
  <div class="px-10 py-6">

    <!-- Billing Info -->
    <div class="mb-6">
      <p class="text-[9px] font-bold text-sky-600 uppercase tracking-wide mb-2 pb-1 border-b-2 border-sky-600">Billing Information</p>
      <div class="grid grid-cols-2 gap-6 mt-4">
        <div class="bg-gray-50 p-4 border-l-4 border-sky-600">
          <p class="text-[8px] uppercase tracking-wide text-gray-500 font-semibold mb-1">Bill To</p>
          <p class="text-gray-800">{{{clientLines}}}</p>
        </div>
        <div class="bg-gray-50 p-4 border-l-4 border-sky-600">
          <p class="text-[8px] uppercase tracking-wide text-gray-500 font-semibold mb-1">Payment Terms</p>
          <p class="text-gray-800">Due Date: {{dueOn}}</p>
        </div>
      </div>
    </div>

    <!-- Items -->
    <div class="mb-6">
      <p class="text-[9px] font-bold text-sky-600 uppercase tracking-wide mb-2 pb-1 border-b-2 border-sky-600">Items</p>
      <table class="w-full border-collapse mt-4">
        <thead>
          <tr class="bg-gray-100">
            <th class="text-left text-[8px] uppercase tracking-wide text-gray-600 font-bold py-3 px-3 border-b-2 border-sky-600">Description</th>
            <th class="text-right text-[8px] uppercase tracking-wide text-gray-600 font-bold py-3 px-3 border-b-2 border-sky-600">Quantity</th>
            <th class="text-right text-[8px] uppercase tracking-wide text-gray-600 font-bold py-3 px-3 border-b-2 border-sky-600">Unit Price</th>
            <th class="text-right text-[8px] uppercase tracking-wide text-gray-600 font-bold py-3 px-3 border-b-2 border-sky-600">Amount</th>
          </tr>
        </thead>
        <tbody>
          {{{itemsRows}}}
        </tbody>
      </table>
    </div>

    <!-- Totals -->
    <div class="flex justify-end">
      <div class="w-60 border-2 border-gray-200">
        <div class="flex justify-between py-2 px-4 text-gray-600 border-b border-gray-200">
          <span>Subtotal</span>
          <span>{{subtotalFormatted}}</span>
        </div>
        <div class="flex justify-between py-2 px-4 text-gray-600 border-b border-gray-200">
          <span>Tax ({{taxRateLabel}}%)</span>
          <span>{{taxAmountFormatted}}</span>
        </div>
        <div class="flex justify-between py-3 px-4 bg-sky-600 text-white font-bold text-sm">
          <span>Total Due</span>
          <span>{{totalFormatted}}</span>
        </div>
      </div>
    </div>

    <!-- Notes -->
    {{{notesBlock}}}

  </div>
</body>
</html>
